<!DOCTYPE html>
<html lang="id" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>Fiberhome Decoder Ultimate</title>
    <meta name="description" content="Tools dekripsi password WiFi Fiberhome, Login Admin, & QR Connect Otomatis. Gratis & Tanpa Iklan.">
    <meta property="og:title" content="Fiberhome Decoder Ultimate">
    <meta property="og:description" content="Cek Password WiFi FH, Info Admin, & QR Code Generator.">
    <meta property="og:image" content="https://cdn-icons-png.flaticon.com/512/3616/3616927.png">
    <meta property="og:url" content="https://fh.evan-cloud.my.id">
    <meta property="og:type" content="website">

    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <style>
        :root {
            --bg-body: #f4f6f8;
            --bg-card: #ffffff;
            --text-main: #2c3e50;
            --text-muted: #637381;
            --primary: #3273dc;
            --primary-hover: #2366d1;
            --input-bg: #ffffff;
            --input-border: #dfe6e9;
            --shadow: 0 4px 20px rgba(0,0,0,0.08);
            --result-bg: #f9fafb;
            --info-box-bg: #eefffa;
            --info-box-text: #0e3f43;
        }

        [data-theme="dark"] {
            --bg-body: #121212;
            --bg-card: #1e1e1e;
            --text-main: #e0e0e0;
            --text-muted: #a0a0a0;
            --primary: #bb86fc;
            --primary-hover: #9e67e3;
            --input-bg: #2d2d2d;
            --input-border: #444;
            --shadow: 0 4px 20px rgba(0,0,0,0.5);
            --result-bg: #252525;
            --info-box-bg: #132e35;
            --info-box-text: #a4f4f9;
        }

        body { font-family: 'Inter', sans-serif; background-color: var(--bg-body); color: var(--text-main); min-height: 100vh; display: flex; flex-direction: column; transition: 0.3s; }
        .main-container { flex: 1; display: flex; align-items: center; justify-content: center; padding: 1.5rem; flex-direction: column; }
        .custom-card { background-color: var(--bg-card); border-radius: 16px; box-shadow: var(--shadow); border: none; max-width: 480px; width: 100%; position: relative; overflow: hidden; }
        .card-content { padding: 2.5rem; }
        .title { color: var(--text-main) !important; }
        .subtitle { color: var(--text-muted) !important; line-height: 1.5; }

        .input, .select select { background-color: var(--input-bg); border-color: var(--input-border); color: var(--text-main); height: 3.2em; border-radius: 10px; font-family: monospace; font-size: 16px; }
        .input:focus, .select select:focus { border-color: var(--primary); box-shadow: 0 0 0 2px rgba(50, 115, 220, 0.2); }
        .input::placeholder { color: var(--text-muted); opacity: 0.7; font-family: 'Inter', sans-serif; font-size: 14px;}

        .button.is-primary { background-color: var(--primary); border-radius: 10px; height: 3.2em; font-weight: 600; border: none; font-size: 1rem; }
        .button.is-primary:hover { background-color: var(--primary-hover); }

        .result-box { background-color: var(--result-bg); border: 1px dashed var(--input-border); border-radius: 10px; padding: 1.5rem; margin-top: 2rem; text-align: center; cursor: pointer; user-select: none; }
        .result-text { font-size: 1.5rem; font-weight: 700; color: var(--primary); word-break: break-all; line-height: 1.2;}
        .result-placeholder { color: var(--text-muted); font-size: 0.9rem; }

        .info-admin { background-color: var(--info-box-bg); color: var(--info-box-text); border-radius: 10px; padding: 1rem; margin-top: 1.5rem; display: none; border-left: 4px solid var(--primary); font-size: 0.85rem; }
        .admin-select-wrapper { margin-bottom: 0.5rem; }
        .select { width: 100%; }
        .select select { width: 100%; font-family: 'Inter', sans-serif; font-size: 0.85rem; height: 2.5em; }

        .network-status-box { background: var(--bg-body); border-radius: 12px; padding: 1rem; text-align: center; border: 1px solid var(--input-border); }
        .box-status { background: var(--bg-card); border: 1px solid var(--input-border); border-radius: 8px; padding: 8px; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; color: var(--text-main); font-weight: 600; }
        .status-online { color: #48c774; }
        .status-offline { color: #f14668; }

        #qrcode-container { display: none; margin-top: 1.5rem; justify-content: center; align-items: center; flex-direction: column; padding: 1rem; background: white; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); max-width: 200px; margin-left: auto; margin-right: auto; }

        .history-section { margin-top: 2rem; width: 100%; max-width: 480px; }
        .history-card { background-color: var(--bg-card); border-radius: 12px; padding: 0.5rem; box-shadow: var(--shadow); }
        .history-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 15px; border-bottom: 1px solid var(--input-border); font-size: 0.9rem; }
        .history-item:last-child { border-bottom: none; }
        .history-ssid { font-weight: 600; color: var(--text-main); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 60%; }
        .history-pass { font-family: monospace; color: var(--primary); background: var(--result-bg); padding: 4px 8px; border-radius: 6px; cursor: pointer; font-size: 0.85rem; }

        .trakteer-btn { background-color: #be1e2d !important; color: white !important; margin-top: 1rem; border-radius: 50px; border: none; box-shadow: 0 4px 6px rgba(190, 30, 45, 0.2); height: 3em; transition: all 0.3s ease; }
        .trakteer-btn:hover { transform: translateY(-3px); box-shadow: 0 6px 12px rgba(190, 30, 45, 0.3); }

        /* ANIMASI HEARTBEAT TOMBOL TRAKTEER */
        .trakteer-icon { animation: heartbeat 1.5s infinite; }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            14% { transform: scale(1.3); }
            28% { transform: scale(1); }
            42% { transform: scale(1.3); }
            70% { transform: scale(1); }
        }

        .visitor-stats { margin-top: 1.5rem; padding-top: 1rem; border-top: 1px solid var(--input-border); font-size: 0.8rem; color: var(--text-muted); text-align: center; display: flex; justify-content: center; align-items: center; gap: 6px; }
        
        .live-dot { height: 8px; width: 8px; background-color: #48c774; border-radius: 50%; display: inline-block; box-shadow: 0 0 0 0 rgba(72, 199, 116, 0.7); animation: pulse-green 2s infinite; }
        @keyframes pulse-green { 0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(72, 199, 116, 0.7); } 70% { transform: scale(1); box-shadow: 0 0 0 6px rgba(72, 199, 116, 0); } 100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(72, 199, 116, 0); } }

        .theme-switch-wrapper { position: absolute; top: 15px; right: 15px; z-index: 10; }
        .theme-icon { color: var(--text-main); font-size: 1.4rem; cursor: pointer; padding: 8px; border-radius: 50%; background: var(--bg-card); box-shadow: 0 2px 8px rgba(0,0,0,0.1); }

        #toast { visibility: hidden; min-width: 250px; margin-left: -125px; background-color: var(--text-main); color: var(--bg-card); text-align: center; border-radius: 50px; padding: 12px 24px; position: fixed; z-index: 100; left: 50%; bottom: 30px; font-weight: 600; box-shadow: 0 5px 15px rgba(0,0,0,0.2); font-size: 0.9rem; }
        #toast.show { visibility: visible; animation: fadein 0.5s, fadeout 0.5s 2.5s; }

        @media screen and (max-width: 768px) {
            .main-container { padding: 1rem; }
            .card-content { padding: 1.5rem; }
            .title.is-4 { font-size: 1.3rem; }
            .subtitle.is-6 { font-size: 0.85rem; margin-bottom: 1.5rem !important; }
        }
    </style>
</head>
<body>

    <div class="theme-switch-wrapper">
        <span class="material-icons theme-icon" onclick="toggleTheme()" id="themeIcon">dark_mode</span>
    </div>

    <div class="main-container">
        <div class="card custom-card">
            <div class="card-content">
                
                <div class="has-text-centered mb-5">
                    <h1 class="title is-4">Fiberhome Decoder</h1>
                    <p class="subtitle is-6">
                        Ini adalah tools untuk mengetahui kata sandi default wifi fiberhome contoh <span class="has-text-weight-bold has-text-primary">"fh_94e640_5G"</span>
                    </p>
                </div>

                <div class="field">
                    <label class="label has-text-grey is-size-7">MASUKKAN SSID</label>
                    <div class="control has-icons-left has-icons-right">
                        <input class="input" type="text" id="kodeInput" placeholder="Contoh: fh_94e640_5G" onkeyup="if(event.keyCode === 13) konversi();" autocomplete="off" spellcheck="false" style="padding-right: 40px;">
                        <span class="icon is-small is-left"><i class="material-icons">wifi</i></span>
                        <span class="icon is-small is-right" style="pointer-events: auto; cursor: pointer;" onclick="pasteText()" title="Tempel Teks">
                            <i class="material-icons has-text-grey">content_paste</i>
                        </span>
                    </div>
                </div>

                <div class="field mt-5">
                    <button class="button is-primary is-fullwidth" onclick="konversi()">
                        <span class="icon is-small mr-1"><i class="material-icons">auto_fix_high</i></span>
                        <span>Proses & Buat QR</span>
                    </button>
                </div>

                <div class="result-box" id="hasil-container" onclick="salinHasil()" title="Klik untuk menyalin">
                    <p class="is-size-7 has-text-grey-light mb-2">HASIL PASSWORD</p>
                    <div id="hasil" class="result-text"></div>
                    <div id="hasil-placeholder" class="result-placeholder">Password akan muncul di sini...</div>
                </div>

                <div id="admin-info" class="info-admin">
                    <div class="is-flex is-justify-content-space-between is-align-items-center mb-2">
                        <span class="has-text-weight-bold">‚ÑπÔ∏è Info Login Router</span>
                        <a href="http://192.168.1.1" target="_blank" id="btn-open-panel" class="tag is-link is-light" style="text-decoration: none;">Buka Panel ‚Üó</a>
                    </div>
                    <div class="admin-select-wrapper">
                        <div class="select is-small">
                            <select id="ip-selector" onchange="updateAdminPanel()">
                                <option value="192.168.1.1">IP: 192.168.1.1 (Default)</option>
                                <option value="192.168.100.1">IP: 192.168.100.1 (Alt)</option>
                            </select>
                        </div>
                    </div>
                    <div class="columns is-mobile is-gapless mt-2">
                        <div class="column">User: <b>user</b></div>
                        <div class="column">Pass: <b>user1234</b></div>
                    </div>
                </div>

                <div class="network-status-box mt-4">
                    <p class="is-size-7 has-text-weight-bold has-text-grey mb-2" style="letter-spacing: 1px;">STATUS JARINGAN ANDA</p>
                    <div class="columns is-mobile is-multiline is-variable is-1">
                        <div class="column is-6">
                            <div class="box-status">
                                <span class="icon is-small mb-1"><i class="material-icons" id="icon-status">wifi</i></span>
                                <span class="is-size-7" id="text-status">Mengecek...</span>
                            </div>
                        </div>
                        <div class="column is-6">
                            <div class="box-status">
                                <span class="icon is-small mb-1"><i class="material-icons">public</i></span>
                                <span class="is-size-7" id="ip-address">Loading...</span>
                            </div>
                        </div>
                        <div class="column is-12 mt-1">
                            <a href="https://fast.com" target="_blank" class="button is-small is-fullwidth is-outlined" style="border-color: var(--input-border); color: var(--text-muted); border-radius: 8px;">
                                <span class="icon is-small mr-1"><i class="material-icons">speed</i></span>
                                Test Kecepatan
                            </a>
                        </div>
                    </div>
                </div>

                <div id="qrcode-container">
                    <p class="is-size-7 has-text-grey has-text-centered mb-2">Scan untuk Connect</p>
                    <div id="qrcode"></div>
                    <button class="button is-small is-rounded is-light mt-3" onclick="downloadQR()">
                        <span class="icon is-small mr-1"><i class="material-icons">download</i></span>
                        Simpan Gambar
                    </button>
                </div>

                <div class="has-text-centered mt-6 pt-4" style="border-top: 1px solid var(--input-border);">
                    <p class="is-size-7 has-text-grey mb-3">Support developer untuk beli kopi ‚òï</p>
                    
                    <a href="https://trakteer.id/evanmardiansyah" target="_blank" class="button trakteer-btn is-fullwidth">
                        <span class="icon is-small mr-1 trakteer-icon"><i class="material-icons">favorite</i></span>
                        <span>Traktir Cendol</span>
                    </a>
                    
                    <div class="visitor-stats">
                        <div class="live-dot" title="Live Update"></div>
                        <span id="busuanzi_container_site_uv" style="display:none;">
                            Pengunjung Unik: <span id="busuanzi_value_site_uv" class="has-text-weight-bold">...</span>
                        </span>
                    </div>
                </div>

            </div>
        </div>

        <div class="history-section" id="historySection" style="display:none;">
            <div class="is-flex is-justify-content-space-between is-align-items-center mb-2 px-1">
                <span class="is-size-7 has-text-grey">Riwayat Pencarian</span>
                <span class="is-size-7 has-text-danger is-clickable" style="cursor:pointer;" onclick="clearHistory()">Hapus</span>
            </div>
            <div class="history-card" id="historyList"></div>
        </div>
    </div>

    <div id="toast">Password berhasil disalin! üëå</div>

<script>
    const PETA_DARI_KODE = {'a': '5', 'b': '4', 'c': '3', 'd': '2', 'e': '1', 'f': '0', '6': '9', '7': '8', '8': '7', '9': '6'};

    function konversi() {
        const inputElem = document.getElementById('kodeInput');
        const inputText = inputElem.value.trim();
        inputElem.blur();

        if (!inputText) { showToastMessage("‚ö†Ô∏è Masukkan SSID dulu ya!"); return; }

        let kodeLower = inputText.toLowerCase();
        let kodeInti = kodeLower.replace('fh_', '');
        const underscoreIndex = kodeInti.indexOf('_');
        if (underscoreIndex !== -1) kodeInti = kodeInti.substring(0, underscoreIndex);

        let kodeDikonversi = '';
        for (let i = 0; i < kodeInti.length; i++) {
            let char = kodeInti[i];
            kodeDikonversi += PETA_DARI_KODE[char] || char; 
        }
        
        let hasilPassword = 'wlan' + kodeDikonversi;
        
        document.getElementById('hasil-placeholder').style.display = 'none';
        document.getElementById('hasil').textContent = hasilPassword;
        document.getElementById('admin-info').style.display = 'block';

        generateQR(inputText, hasilPassword);
        addToHistory(inputText, hasilPassword);
        
        document.getElementById('hasil-container').scrollIntoView({behavior: "smooth", block: "center"});
        confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 }, colors: ['#3273dc', '#00d1b2', '#ffdd57', '#ff3860'], disableForReducedMotion: true });
    }

    function downloadQR() {
        const qrCanvas = document.querySelector('#qrcode canvas');
        const qrImg = document.querySelector('#qrcode img');
        
        let url = "";
        if (qrCanvas) { url = qrCanvas.toDataURL("image/png"); }
        else if (qrImg) { url = qrImg.src; }

        if (url) {
            const link = document.createElement('a');
            link.download = 'wifi-qrcode.png';
            link.href = url;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            showToastMessage("QR Code disimpan! üì•");
        } else {
            showToastMessage("Gagal menyimpan gambar ‚ö†Ô∏è");
        }
    }

    async function pasteText() {
        try {
            const text = await navigator.clipboard.readText();
            document.getElementById('kodeInput').value = text;
            showToastMessage("Ditempel! üìã");
            konversi();
        } catch (err) {
            showToastMessage("Gagal paste (Izin browser diperlukan)");
        }
    }

    setInterval(function() {
        var oldScript = document.querySelector('script[src*="busuanzi"]');
        if (oldScript) oldScript.remove();
        var newScript = document.createElement("script");
        newScript.src = "//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js";
        newScript.async = true;
        newScript.style.display = "none";
        document.body.appendChild(newScript);
    }, 20000); 

    function updateAdminPanel() {
        const selectedIP = document.getElementById('ip-selector').value;
        document.getElementById('btn-open-panel').href = "http://" + selectedIP;
    }

    function generateQR(ssid, password) {
        const qrContainer = document.getElementById('qrcode');
        const qrWrapper = document.getElementById('qrcode-container');
        qrContainer.innerHTML = ''; 
        qrWrapper.style.display = 'flex'; 
        new QRCode(qrContainer, { text: `WIFI:S:${ssid};T:WPA;P:${password};;`, width: 150, height: 150, correctLevel : QRCode.CorrectLevel.L });
    }

    function updateOnlineStatus() {
        const statusText = document.getElementById('text-status');
        const statusIcon = document.getElementById('icon-status');
        if (navigator.onLine) {
            statusText.textContent = "Online";
            statusText.className = "is-size-7 status-online";
            statusIcon.className = "material-icons status-online";
            statusIcon.textContent = "wifi";
        } else {
            statusText.textContent = "Offline";
            statusText.className = "is-size-7 status-offline";
            statusIcon.className = "material-icons status-offline";
            statusIcon.textContent = "wifi_off";
        }
    }

    function fetchIP() {
        fetch('https://api.ipify.org?format=json')
            .then(response => response.json())
            .then(data => { document.getElementById('ip-address').textContent = data.ip; })
            .catch(error => { document.getElementById('ip-address').textContent = "-"; });
    }

    window.addEventListener('online', updateOnlineStatus);
    window.addEventListener('offline', updateOnlineStatus);
    updateOnlineStatus();
    fetchIP();

    function addToHistory(ssid, password) {
        let history = JSON.parse(localStorage.getItem('wifiHistory')) || [];
        history = history.filter(item => item.ssid !== ssid);
        history.unshift({ ssid, password });
        if (history.length > 5) history.pop();
        localStorage.setItem('wifiHistory', JSON.stringify(history));
        renderHistory();
    }

    function renderHistory() {
        let history = JSON.parse(localStorage.getItem('wifiHistory')) || [];
        const historyList = document.getElementById('historyList');
        const historySection = document.getElementById('historySection');
        if (history.length === 0) { historySection.style.display = 'none'; return; }
        historySection.style.display = 'block';
        historyList.innerHTML = '';
        history.forEach(item => {
            historyList.innerHTML += `<div class="history-item"><span class="history-ssid">${item.ssid}</span><span class="history-pass" onclick="copyText('${item.password}')" title="Klik Copy">${item.password}</span></div>`;
        });
    }
    
    function clearHistory() { localStorage.removeItem('wifiHistory'); renderHistory(); showToastMessage("Riwayat dihapus üóëÔ∏è"); }
    function salinHasil() { const hasilTeks = document.getElementById('hasil').textContent; if (hasilTeks) copyText(hasilTeks); }
    function copyText(text) { navigator.clipboard.writeText(text).then(() => { showToastMessage("Password berhasil disalin! üëå"); }); }
    function showToastMessage(msg) { const toast = document.getElementById("toast"); toast.textContent = msg; toast.className = "show"; setTimeout(() => { toast.className = toast.className.replace("show", ""); }, 3000); }

    const themeIcon = document.getElementById('themeIcon');
    const htmlEl = document.documentElement;
    const currentTheme = localStorage.getItem('theme');
    if (currentTheme) { htmlEl.setAttribute('data-theme', currentTheme); updateIcon(currentTheme); }

    function toggleTheme() {
        let theme = htmlEl.getAttribute('data-theme');
        let newTheme = theme === 'dark' ? 'light' : 'dark';
        htmlEl.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
        updateIcon(newTheme);
    }
    function updateIcon(theme) { themeIcon.textContent = theme === 'dark' ? 'light_mode' : 'dark_mode'; }

    renderHistory();
</script>

</body>
</html>
